# Kubernetes Secret Template
# For sensitive configuration: passwords, API keys, tokens, certificates
#
# IMPORTANT: In production, use external secret managers:
#   - Sealed Secrets (Bitnami)
#   - External Secrets Operator (AWS SM, Azure KV, GCP SM, HashiCorp Vault)
#   - SOPS + age/GPG for GitOps
#
# WARNING: Never commit plaintext secrets to version control!
# Values below are base64-encoded placeholders only.
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .appName }}-secret
  namespace: {{ .namespace | default "default" }}
  labels:
    app.kubernetes.io/name: {{ .appName }}
    app.kubernetes.io/instance: {{ .releaseName | default .appName }}
type: Opaque
# Use stringData for plaintext (Kubernetes base64-encodes automatically)
stringData:
  DATABASE_URL: "{{ .databaseUrl }}"
  # DB_PASSWORD: "{{ .dbPassword }}"
  # REDIS_URL: "{{ .redisUrl }}"
  # JWT_SECRET: "{{ .jwtSecret }}"
  # API_KEY: "{{ .apiKey }}"
  # SMTP_PASSWORD: "{{ .smtpPassword }}"

# Alternative: pre-encoded base64 values
# data:
#   DATABASE_URL: {{ .databaseUrl | b64enc }}
#   DB_PASSWORD: {{ .dbPassword | b64enc }}

---
# TLS Secret (for custom certificates)
# Use cert-manager for automatic Let's Encrypt certificates instead
# apiVersion: v1
# kind: Secret
# metadata:
#   name: {{ .appName }}-tls
#   namespace: {{ .namespace | default "default" }}
# type: kubernetes.io/tls
# data:
#   tls.crt: {{ .tlsCert | b64enc }}
#   tls.key: {{ .tlsKey | b64enc }}

---
# Docker Registry Secret (for private image registries)
# apiVersion: v1
# kind: Secret
# metadata:
#   name: {{ .registrySecretName | default "regcred" }}
#   namespace: {{ .namespace | default "default" }}
# type: kubernetes.io/dockerconfigjson
# data:
#   .dockerconfigjson: {{ .dockerConfigJson | b64enc }}
#
# Create via CLI instead:
# kubectl create secret docker-registry regcred \
#   --docker-server=<registry> \
#   --docker-username=<user> \
#   --docker-password=<password> \
#   --namespace={{ .namespace }}
