# Dapr HTTP Output Binding â€” External HTTP Calls
# Docs: https://docs.dapr.io/reference/components-reference/supported-bindings/http/
#
# Use for outbound HTTP calls to external services (webhooks, notifications).
# Your app calls: POST /v1.0/bindings/{{BINDING_NAME}}

apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: {{BINDING_NAME|default:http-notify}}
  namespace: {{NAMESPACE|default:default}}
spec:
  type: bindings.http
  version: v1
  metadata:
    - name: url
      value: "{{TARGET_URL|example:https://hooks.slack.com/services/T00/B00/xxx}}"

    # --- Security ---
    # - name: securityToken
    #   secretKeyRef:
    #     name: webhook-credentials
    #     key: token
    # - name: securityTokenHeader
    #   value: "Authorization"

    # --- Direction ---
    - name: direction
      value: "output"  # output = your app calls external; input = external calls your app

  scopes:
    - {{APP_ID|default:backend-api}}

# auth:
#   secretStore: kubernetes
